<!--Main Navigation-->
<admin-header [Status]="status"></admin-header>
<!--Main Navigation-->

<!--Main layout-->
<main>
  <h5 translate>product.detail</h5>
  <div class="container pt-4 main-layout">
    <form action="" *ngIf="isShowForm">
      <div class="row">
        <div class="col">
          <div class="mb-3">
            <label for="code-product-edit" class="form-label" translate>product.barcode</label>
            <input type="text" class="form-control" id="code-product-edit"
                   [(ngModel)]="infoUpdateProductResponse.barCode" [ngModelOptions]="{standalone: true}">
          </div>
          <div class="mb-3">
            <label for="name-product-edit" class="form-label" translate>product.name</label>
            <input type="text" class="form-control" id="name-product-edit"
                   [(ngModel)]="infoUpdateProductResponse.nameProd" [ngModelOptions]="{standalone: true}">
          </div>
          <div class="mb-3" *ngIf="infoUpdateProductResponse!=null && infoUpdateProductResponse.typeProductItems!=null">
            <label class="form-label-category" translate>product.category.name</label> <br>
            <p-dropdown [options]="infoUpdateProductResponse.typeProductItems" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="selectedCategory" optionLabel="name" [filter]="true" filterBy="name"
                        [showClear]="true" placeholder="{{selectedCategory.name}}">
              <ng-template pTemplate="selectedItem">
                <div class="category-item category-item-value" *ngIf="selectedCategory">
                  <div>{{selectedCategory.name}}</div>
                </div>
              </ng-template>
              <ng-template let-category pTemplate="categoryitem">
                <div class="category-item">
                  <div>{{category.name}}</div>
                </div>
              </ng-template>
            </p-dropdown>
            <br>
            <a class="text-category mt-3 text-decoration-none" translate>product.category.create</a>
          </div>
        </div>
        <div class="col">
          <div class="mb-3" *ngIf="infoUpdateProductResponse!=null && infoUpdateProductResponse.statusItems!=null">
            <label class="form-label-status" translate>product.warehouse.status</label> <br>
            <p-dropdown [options]="infoUpdateProductResponse.statusItems" [(ngModel)]="selectedStatus"
                        optionLabel="statusName" name="statusOptions" [filter]="false" filterBy="statusName"
                        placeholder="{{selectedStatus.statusName}}">
              <ng-template pTemplate="selectedStatusItem">
                <div class="status-item status-item-value" *ngIf="selectedStatus">
                  <div>{{selectedStatus.statusName}}</div>
                </div>
              </ng-template>
              <ng-template let-status pTemplate="statusItems">
                <div class="status-item">
                  <div>{{status.statusName}}</div>
                </div>
              </ng-template>
            </p-dropdown>
          </div>
        </div>
        <div class="col">
          <div class="mb-3">
            <label class="form-label">Ảnh sản phẩm <span class="text-danger">Chỉ nhập tối đa 1 ảnh</span></label> <br>
            <div class="custom-file-upload" *ngIf="!enableImage">
              <label>
                <input type="file" (change)="onFileSelectedImage($event)">
                <i class="fa fa-cloud-upload"></i> Upload hình ảnh
              </label>
            </div>
            <button class="root-btn" *ngIf="enableImage" (click)="changeImage()">Thay đổi ảnh</button>
            <br>
            <img [src]="url" style="width: 200px; height: 200px; margin-top: 10px" *ngIf="enableImage">
          </div>
        </div>
      </div>
      <div class="row p-3">
        <label for="description-product-edit" class="form-label" translate>product.description</label>
        <textarea class="form-control" [(ngModel)]="infoUpdateProductResponse.description" id="description-product-edit"
                  name="description" rows="3" style="resize: none;"></textarea>
      </div>

      <div class="row mt-3">
        <div class="col text-center">
<<<<<<< HEAD
          <button class="btn btn-success w-25" (mousedown)="update()">Lưu</button>
=======
          <button class="root-btn" (mousedown)="update()">Lưu thông tin</button>
>>>>>>> f9f9f7f9d7c4b3251bcacb2af3d66e2000f7cf74
        </div>
      </div>
    </form>

    <!--  form detail  -->
    <form action="" *ngIf="!isShowForm">
      <div class="row">
        <div class="col">
          <div class="mb-3">
            <label for="code-product" class="form-label" translate>product.barcode</label>
            <input type="text" class="form-control" id="code-product" value="{{getDetailProductResponse.barCode}}"
                   disabled>
          </div>
          <div class="mb-3">
            <label for="name-product" class="form-label" translate>product.name</label>
            <input type="text" class="form-control" id="name-product" value="{{getDetailProductResponse.name}}"
                   disabled>
          </div>
          <div class="mb-3">
            <label for="creator-product" class="form-label" translate>product.creator</label>
            <input type="text" class="form-control" id="creator-product" value="{{getDetailProductResponse.creator}}"
                   disabled>
          </div>
          <div class="mb-3">
            <label for="createddate-product" class="form-label" translate>product.createddate</label>
            <input type="text" class="form-control" id="createddate-product"
                   value="{{ getDetailProductResponse.createdDate}}" disabled>
          </div>
          <div class="mb-3">
            <label for="category-name" class="form-label" translate>product.category.name</label>
            <input type="text" class="form-control" id="category-name" value="{{getDetailProductResponse.categoryName}}"
                   disabled>
          </div>
          <div class="mb-3">
            <label class="form-label" translate>product.supplier.name</label>
            <ul *ngFor="let x of getDetailProductResponse.supplierNames">
              <li>{{x}}</li>
            </ul>
          </div>
        </div>
        <div class="col">
          <div class="mb-3">
            <label for="warehouse-status" class="form-label" translate>product.warehouse.status</label>
            <input type="text" class="form-control" id="warehouse-status"
                   value="{{ getDetailProductResponse.statusName}}" disabled>
          </div>
          <div class="mb-3">
            <label for="in-price-product" class="form-label" translate>product.warehouse.import.amount.in</label>
            <input type="text" class="form-control" id="in-price-product"
                   value="{{getDetailProductResponse.sumInAmount + getDetailProductResponse.unitName}}" disabled>
          </div>
          <div class="mb-3">
            <label for="out-price-product" class="form-label" translate>product.warehouse.export.amount.out</label>
            <input type="text" class="form-control" id="out-price-product"
                   value="{{getDetailProductResponse.sumOutAmount + getDetailProductResponse.unitName}}" disabled>
          </div>
          <div class="mb-3">
            <label for="product-iventory" class="form-label" translate>product.inventory</label>
            <input type="text" class="form-control" id="product-iventory"
                   value="{{getDetailProductResponse.inventory + getDetailProductResponse.unitName}}" disabled>
          </div>
          <div class="mb-3">
            <label for="product-amount" class="form-label" translate>product.warehouse.import.amount.count</label>
            <input type="text" class="form-control" id="product-amount" value="{{getDetailProductResponse.sumImport}}"
                   disabled>
          </div>
          <div class="mb-3">
            <label for="quantity-best" class="form-label" translate>product.warehouse.import.best</label>
            <input type="text" class="form-control" id="quantity-best" value="{{getDetailProductResponse.importDate}}"
                   disabled>
          </div>
        </div>
        <div class="col">
          <div class="image">
            <img src="{{getDetailProductResponse.image}}">
          </div>
        </div>
      </div>
      <div class="row p-3">
        <label for="description-product" class="form-label" translate>product.description</label>
        <textarea class="form-control" id="description-product" name="description" rows="3" style="resize: none;"
                  value="{{getDetailProductResponse.description}}" disabled></textarea>
      </div>
      <div class="row mt-3">
        <div class="col text-center">
          <button class="root-btn" (click)="isShowForm = !isShowForm" (mousedown)="info()">Chỉnh sửa thông tin</button>
        </div>
      </div>
    </form>
  </div>

  <admin-footer></admin-footer>
</main>
<!--Main layout-->
