<!--Main Navigation-->
<admin-header [Status]=status></admin-header>
<!--Main Navigation-->

<!--Main layout-->
<main>
  <h5>Quản lý tài khoản</h5>
  <div class="container pt-4 main-layout">
    <div class="row">
      <div class="col-2">
        <span><p>Số người đang hoạt động: {{listAccountItems.countStatus}}</p></span>
      </div>
      <div class="col-4">
        <a type="button" class="btn root-btn" routerLink="/admin/manage-add-account">Thêm tài khoản</a>
      </div>
      <div class="col-6">
        <div class="input-group mb-3">
          <form>
            <div class="input-group mb-3">
              <input type="text" name="phonenumber" class="form-control inputRoot" pInputText ngModel #username
                     placeholder="Nhập tên nhân viên...">
              <button type="button" class="buttonRoot" pButton pRipple icon="pi pi-search"
                      (mousedown)="searchByUsername(username.value)"></button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <!-- table -->
    <section class="table-account">
      <div class="table-all-order mt-4">

        <p-table #dt [value]="listAccountItems.items" dataKey="id"
                 styleClass="p-datatable-getOrderResponse.totalPages" [rowHover]="true"> [filterDelay]="0" >

          <ng-template pTemplate="header">
            <tr>
              <th scope="col">Mã nhân viên</th>
              <th scope="col">Họ và tên</th>
              <th scope="col">Email</th>
              <th scope="col">Số điện thoại</th>
              <th scope="col">Trạng thái</th>
              <th scope="col">Creator</th>
              <th scope="col">Thao tác</th>
            </tr>
            <tr></tr>
          </ng-template>
          <ng-template pTemplate="body" let-item>
            <tr class="p-selectable-row">
              <td>{{item.id}}</td>
              <td>{{item.fullname}}</td>
              <td>{{item.email}}</td>
              <td>{{item.numberPhone}}</td>
              <td>{{item.statusName}}</td>
              <td>{{item.creator}}</td>
              <td>
                <button *ngIf="item.status==2" (mousedown)="unlockAccount(item.id)">
                  <i class="fa-solid fa-lock text-danger me-2"></i>
                </button>

                <button (click)="getId(item.id)">
                  <i class="fa-solid fa-file-pen me-2"></i>
                </button>
                <button label="Confirm" *ngIf="item.status==1" (mousedown)="delete(item.id)">
                  <i class="fa-solid fa-trash"></i>
                </button>

              </td>
            </tr>

          </ng-template>

          <ng-template pTemplate="emptymessage">
            <tr>
              <td colspan="8">No customers found.</td>
            </tr>
          </ng-template>
        </p-table>

        <p-paginator [rows]="10" [totalRecords]="listAccountItems.totalItems" [rowsPerPageOptions]="[3,10,25,50]"
                     currentPageReportTemplate="Showing {{listAccountItems.totalPages}} to {{listAccountItems.totalPages}} of {{listAccountItems.totalItems}} entries"
                     (onPageChange)="Pageable($event)"></p-paginator>
      </div>
    </section>
  </div>
  <p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000"
                   rejectButtonStyleClass="p-button-text"></p-confirmDialog>
  <p-toast></p-toast>
  <admin-footer></admin-footer>
</main>
<!--Main layout-->
